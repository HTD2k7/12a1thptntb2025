// Set the date we're counting down to
let countDownDate = new Date('July 16, 2025 08:00:00').getTime();

// Update the count down every 1 second
let x = setInterval(function () {
  // Get today's date and time
  let now = new Date().getTime();

  // Find the distance between now and the count down date
  let distance = countDownDate - now;

  // Time calculations for days, hours, minutes and seconds
  let days = Math.floor(distance / (1000 * 60 * 60 * 24));
  let hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  let minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  let seconds = Math.floor((distance % (1000 * 60)) / 1000);

  // Output the result in an element with id="countdown"
  document.getElementById('days').innerHTML = days;
  document.getElementById('hours').innerHTML = hours;
  document.getElementById('minutes').innerHTML = minutes;
  document.getElementById('seconds').innerHTML = seconds;

  // If the count down is over, write some text
  if (distance < 0) {
    clearInterval(x);
    document.getElementById('countdown').innerHTML =
      'ƒê√£ ƒë·∫øn th·ªùi ƒëi·ªÉm c√¥ng b·ªë ƒëi·ªÉm t·ªët nghi·ªám THPT 2025 r·ªìi! Mong r·∫±ng d√π cho k·∫øt qu·∫£ nh∆∞ th·∫ø n√†o th√¨ c√°c b·∫°n h√£y lu√¥n t·ª± h√†o r·∫±ng b·∫£n th√¢n m√¨nh ƒë√£ c·ªë g·∫Øng h·∫øt s·ª©c r·ªìi, kh√¥ng c√≥ g√¨ ph·∫£i h·ªëi ti·∫øc nh√©!';
  }
}, 1000);

function showInfo(event, classId, className) {
  event.preventDefault();
  var infos = document.getElementsByClassName('info');
  for (var i = 0; i < infos.length; i++) {
    infos[i].style.display = 'none';
  }
  document.getElementById(classId).style.display = 'block';
  document.getElementById('dropbtn').innerText = className;
  event.returnValue = false;
  return false;
}

const nextButton = document.querySelector('.buttonnextmuc3');
const prevButton = document.querySelector('.buttonprevmuc3');

nextButton.addEventListener('click', () => {
  const items = document.querySelectorAll('.itemmuc3');
  document.querySelector('.slidemuc3').appendChild(items[0]);
});

prevButton.addEventListener('click', () => {
  const items = document.querySelectorAll('.itemmuc3');
  document.querySelector('.slidemuc3').prepend(items[items.length - 1]);
});

const nextButton1 = document.querySelector('.buttonnextmuc31');
const prevButton1 = document.querySelector('.buttonprevmuc31');

nextButton1.addEventListener('click', () => {
  const items = document.querySelectorAll('.itemmuc31');
  document.querySelector('.slidemuc31').appendChild(items[0]);
});

prevButton1.addEventListener('click', () => {
  const items = document.querySelectorAll('.itemmuc31');
  document.querySelector('.slidemuc31').prepend(items[items.length - 1]);
});

const nextButton2 = document.querySelector('.buttonnextmuc32');
const prevButton2 = document.querySelector('.buttonprevmuc32');

nextButton2.addEventListener('click', () => {
  const items = document.querySelectorAll('.itemmuc32');
  document.querySelector('.slidemuc32').appendChild(items[0]);
});

prevButton2.addEventListener('click', () => {
  const items = document.querySelectorAll('.itemmuc32');
  document.querySelector('.slidemuc32').prepend(items[items.length - 1]);
});

const lightbox = document.getElementById('lightboxlop');
const lightboxImg = document.getElementById('lightboxlop-img');
const thumbnails = document.querySelectorAll('.anhlop img');

thumbnails.forEach(img => {
  img.addEventListener('click', () => {
    lightbox.style.display = 'flex';
    lightboxImg.src = img.src;
    });
});

function closeLightbox() {
  lightbox.style.display = 'none';
}

    // ƒê√≥ng khi b·∫•m ra ngo√†i ·∫£nh
lightbox.addEventListener('click', (e) => {
  if (e.target === lightbox || e.target === lightboxImg) {
    closeLightbox();
  }
});

function toggleGallery() {
    document.getElementById('galleryPopup').classList.toggle('show');
  }

  // Lightbox cho ·∫£nh t·ªï
  function openGalleryLightbox(src) {
    document.getElementById('lightbox-img').src = src;
    document.getElementById('lightbox').style.display = 'flex';
  }

  function closeGalleryLightbox() {
    document.getElementById('lightbox').style.display = 'none';
  }

  // Tabs cho ·∫£nh t·ªï
  function showTab(tabName) {
    const images = document.querySelectorAll('#galleryContent img');
    images.forEach(img => {
      if (img.dataset.tab === tabName) {
        img.style.display = 'block';
        img.classList.add('fade-in');
        setTimeout(() => img.classList.remove('fade-in'), 400);
      } else {
        img.style.display = 'none';
      }
    });

    // C·∫≠p nh·∫≠t n√∫t active
    const buttons = document.querySelectorAll('.tab-buttons button');
    buttons.forEach(btn => btn.classList.remove('active'));
    document.querySelector(`.tab-buttons button[onclick*="${tabName}"]`).classList.add('active');
  }

  // Lightbox cho ·∫£nh k·ª∑ y·∫øu
  function openKyYeuLightbox(src) {
    document.getElementById("lightbox-imgky").src = src;
    document.getElementById("lightboxky").style.display = "flex";
  }

  function closeKyYeuLightbox() {
    document.getElementById("lightboxky").style.display = "none";
  }

    // L√° r∆°i
    let leavesEnabled = true;
    let leafInterval;

    function createLeaf() {
      if (!leavesEnabled) return;
      const leaf = document.createElement("div");
      leaf.classList.add("leaf");
      leaf.style.left = Math.random() * window.innerWidth + "px";
      leaf.style.animationDuration = 5 + Math.random() * 5 + "s";
      leaf.style.transform = `rotate(${Math.random() * 360}deg)`;
      document.body.appendChild(leaf);
      setTimeout(() => leaf.remove(), 10000);
    }

    leafInterval = setInterval(createLeaf, 300);

document.getElementById("toggle-leaves").onclick = function () {
  leavesEnabled = !leavesEnabled;
  if (leavesEnabled) {
    this.innerText = "T·∫Øt L√° R∆°i üçÉ";
    leafInterval = setInterval(createLeaf, 300);
  } else {
    this.innerText = "B·∫≠t L√° R∆°i üçÇ";
    clearInterval(leafInterval);
    // ‚ú® Xo√° t·∫•t c·∫£ l√° ƒëang r∆°i
    document.querySelectorAll(".leaf").forEach(leaf => leaf.remove());
  }
};

function toggleTooltip(img) {
  const tooltip = img.parentElement.querySelector(".tooltipbd");
  tooltip.classList.toggle("show-tooltip");
}

const lines = [
      "Dear HuynhThuy,",
      " I have to write this in English because it feels too cheesy to say it in Vietnamese:‚Äù))). You can use a translation app to understand hihi :>>>.",
      "I can't believe we've spent nearly 3 years together ‚Äî it's insane!ü•µü•µ",
      "Thanks so much for being my girl and listening to me yap every dayü•∫. I really appreciate everything you do for me, and I hope we go far togetherü•∞ü•∞.",
      "This website will keep our love here, so we can look back and remember these cute memories when we grow up üòâ he he he.",
      "From Do√£n Kho with luvü´Äü´Ç",

    ];

    function showLines(index = 0) {
      if (index < lines.length) {
        const textContainer = document.getElementById("coupleText");
        const newLine = document.createElement("p");
        newLine.textContent = lines[index];
        newLine.style.margin = "6px 0";
        newLine.style.opacity = 0;
        textContainer.appendChild(newLine);
        setTimeout(() => {
          newLine.style.transition = "opacity 0.5s ease";
          newLine.style.opacity = 1;
        }, 10);
        setTimeout(() => showLines(index + 1), 700);
      }
    }

    function showLinescp(lines, containerId) {
      const container = document.getElementById(containerId);
      container.innerHTML = "";
      let i = 0;
      function next() {
        if (i < lines.length) {
          const p = document.createElement("p");
          p.textContent = lines[i];
          p.style.margin = "6px 0";
          container.appendChild(p);
          i++;
          setTimeout(next, 700);
        }
      }
      next();
    }


    function checkCoupleReveal() {
      const input = document.getElementById("secretInput").value.trim().toLowerCase();
      const coupleDiv = document.getElementById("coupleReveal");
      const coupleText = document.getElementById("coupleText");
      const coupleBox = document.getElementById("coupleBox");
      const bestieBox = document.getElementById("bestieBox");
      const containerdvn = document.getElementById("imageContainerdvn");
      const iconsdvn = document.querySelectorAll(".icondvn");


      if (input === "19/9") {
        coupleDiv.classList.add("couple-show");
        coupleText.innerHTML = "";
        showLines();
      }
      else if (input == "10/12"){
        coupleBox.classList.add("show-box");
        showLinescp(coupleLines, "coupleMessage");
      }
      else if (input === "ngocvanguyet"){
        bestieBox.classList.add("show-box");
        showLinescp(bestieLines, "bestieMessage");
      }
      else if(input == "mnganxinhdep"){
        containerdvn.style.display = "block";
        containerdvn.style.animation = "fadeIn 2s forwards";
        iconsdvn.forEach(icon => icon.classList.add("show-icondvn"));
      }
      else {
        coupleDiv.classList.remove("couple-show");
        coupleText.innerHTML = "";
        coupleBox.classList.remove("show-box");
        bestieBox.classList.remove("show-box");
        containerdvn.style.display = "none";
        containerdvn.style.opacity = 0;
        iconsdvn.forEach(icondvn => icondvn.classList.remove("show-icondvn"));
      }
    }

    const coupleLines = [
      "M·ªôt ng∆∞·ªùi l√† m√πa thu H√† N·ªôi ‚Äì l·∫∑ng l·∫Ω, d·ªãu d√†ng, tinh kh√¥i nh∆∞ s∆∞∆°ng s·ªõm ƒë·∫ßu m√πa.",
      "M·ªôt ng∆∞·ªùi l√† Photon cu·ªëi thu ‚Äì tr·∫ßm l·∫∑ng nh∆∞ng lu√¥n h∆∞·ªõng v·ªÅ ph√≠a √°nh s√°ng c·ªßa ri√™ng m√¨nh.",
      "",
      "Kh√¥ng r·ª±c r·ª°, kh√¥ng ·ªìn √†o, ch·ªâ ƒë∆°n gi·∫£n l√† s·ª± hi·ªán di·ªán ƒë·ªß khi·∫øn kh√¥ng gian tr·ªü n√™n ·∫•m h∆°n.",
      "L√† c√°i nh√¨n l√©n nh·∫π n∆°i c·ª≠a s·ªï l·ªõp, l√† nh·ªØng l·∫ßn ch·∫°m √°nh m·∫Øt nh∆∞ng ch·∫≥ng n√≥i g√¨‚Ä¶",
      "L√† th·ª© t√¨nh c·∫£m √¢m th·∫ßm ‚Äì m√† s√¢u, ch·∫≠m ‚Äì m√† b·ªÅn.",
      "Gi·ªØa d√≤ng ƒë·ªùi x√¥ b·ªì, h·ªç ch·ªçn b∆∞·ªõc th·∫≠t ch·∫≠m‚Ä¶",
      "‚Ä¶ ƒë·ªÉ k·ªãp c·∫£m nh·∫≠n h·∫øt s·ª± d·ªãu d√†ng c·ªßa nhau. üçÇüí°",
    ];

    const bestieLines = [
      "M·ªôt ng∆∞·ªùi l·∫•p l√°nh nh∆∞ vi√™n ng·ªçc trong ƒë√° ‚Äì s·∫Øc s·∫£o, n·ªïi b·∫≠t.",
      "M·ªôt ng∆∞·ªùi d·ªãu d√†ng nh∆∞ √°nh trƒÉng cu·ªëi th√°ng ‚Äì l·∫∑ng l·∫Ω nh∆∞ng khi·∫øn ng∆∞·ªùi ta ch·∫≥ng th·ªÉ r·ªùi m·∫Øt.",
      "",
      "H·ªç kh√¥ng c·∫ßn ph·∫£i ·ªìn √†o ƒë·ªÉ ƒë∆∞·ª£c ch√∫ √Ω.",
      "Khi ƒëi ri√™ng, h·ªç l√† ch√≠nh m√¨nh.",
      "Nh∆∞ng khi ƒë·ª©ng c·∫°nh nhau ‚Äì h·ªç l√† m·ªôt b·ªô ƒë√¥i khi·∫øn c·∫£ l·ªõp ph·∫£i d√® ch·ª´ng.",
      "Kh√¥ng v√¨ n√≥i to, kh√¥ng v√¨ ƒë√πa nhi·ªÅu ‚Äì m√† v√¨ s·ª± ƒÉn √Ω kh√¥ng c·∫ßn hi·ªáu l·ªánh.",
      "M·ªôt √°nh m·∫Øt, m·ªôt n·ª• c∆∞·ªùi, m·ªôt c√¢u ƒë√πa ƒë√∫ng th·ªùi ƒëi·ªÉm ‚Äì ƒë·ªß khi·∫øn c·∫£ b·∫ßu kh√¥ng kh√≠ nghi√™ng v·ªÅ ph√≠a h·ªç.",
      "",
      "Ng∆∞·ªùi ta g·ªçi h·ªç l√† Song S√°t √Ånh B·∫°c ‚Äì kh√¥ng ph·∫£i v√¨ h·ªç ƒë√°ng s·ª£, m√† v√¨ h·ªç t·ªèa s√°ng theo c√°ch ri√™ng:",
      "Kh√¥ng r·ª±c r·ª° nh∆∞ n·∫Øng ‚Äì m√† s·∫Øc l·∫°nh nh∆∞ √°nh b·∫°c d∆∞·ªõi trƒÉng.",
      "Kh√¥ng n√°o nhi·ªát ‚Äì m√† khi·∫øn ng∆∞·ªùi kh√°c kh√¥ng th·ªÉ kh√¥ng ƒë·ªÉ √Ω.",
    ];


    const lightboxlb = document.getElementById('lightboxlb');
    const lightboxlbImg = lightboxlb.querySelector('img');
    document.querySelectorAll('.gallerylb img').forEach(img => {
      img.addEventListener('click', () => {
        lightboxlbImg.src = img.src;
        lightboxlb.classList.add('active');
      });
    });
    lightboxlb.addEventListener('click', () => {
      lightboxlb.classList.remove('active');
    });

    const images = [
      "https://i.postimg.cc/rpCfmh0H/0165b5c3-3909-4965-8d17-2b5326823d84.jpg",
      "https://i.postimg.cc/ZqhfJkR3/02f56871-b029-44f1-a2fe-2e3c83b397db.jpg",
      "https://i.postimg.cc/wMBfnhBG/20240522-174404-100.jpg",
      "https://i.postimg.cc/pXpcZY49/3a41f40e-cc4b-4587-9d2a-e1a0a5eba9d2.jpg",
      "https://i.postimg.cc/8zvK8k1N/ddb353d1-0f51-48ec-8cd1-14e2735cff34.jpg",
      "https://i.postimg.cc/gjM50g5p/FB-IMG-1750229561631.jpg",
      "https://i.postimg.cc/VLpGH0PK/fe910eb9-730b-4807-9ea6-6c1ac75cd656.jpg",
      "https://i.postimg.cc/wTGZ8bLc/IMG-1748614430855-1748614506233-3.jpg",
      "https://i.postimg.cc/2SLJzFxp/IMG-20240205-145623-2.jpg",
      "https://i.postimg.cc/KjsqbRkv/IMG-20240226-191528.jpg",
      "https://i.postimg.cc/MGyFB64d/IMG-20241016-155504-2.jpg",
      "https://i.postimg.cc/ZR4DxkzZ/IMG-20241019-130304-2.jpg",
      "https://i.postimg.cc/44wjw330/IMG-20241211-125657-2.jpg",
      "https://i.postimg.cc/gJHQCzHn/IMG-20241211-125755-2.jpg",
      "https://i.postimg.cc/9FMKkjRQ/IMG-20250404-201813.jpg",
      "https://i.postimg.cc/6QRDhL7V/IMG-20250530-211527-2.jpg",
      "https://i.postimg.cc/1zxd4nW8/IMG-20250613-152843.jpg",
      "https://i.postimg.cc/NFGSY3db/IMG-20250613-153019.jpg",
      "https://i.postimg.cc/dtVcKyXv/IMG-20250614-201213.jpg",
      "https://i.postimg.cc/gJW1tXRC/Screenshot-20240514-211148.png",
      "https://i.postimg.cc/QdBLFrhy/z5832088742951-d7ae53d379668fbbf263d0c07f89600e.jpg",
      "https://i.postimg.cc/fTqnWbnd/z6238526681528-1df5292d77adbd90a2ca22f2c7f9d5ed.jpg",
      "https://i.postimg.cc/Gm6WYSph/z6475612769014-dacfbaa72b7016763eb7053465ade8e1.jpg",
      "https://i.postimg.cc/cHxX8QfL/z6700973003164-1361c2c30bfbbb334e08f9fdb5751536.jpg",
      "https://i.postimg.cc/1tvM0fKc/z6700973007609-4998ea1046b286e6b9c21e6fe91cfbd6.jpg",
      "https://i.postimg.cc/3NW1tYSM/z6701384002232-5ec9762e01ddf7dfbe2ea02ee15f5245.jpg",
      "https://i.postimg.cc/C17rvvw8/z6705505907575-5990bc9948c96037c5c99038d73f2ffb.jpg",
      "https://i.postimg.cc/RCPbKbs5/z6762158241983-e4b5e9fac98c8aa398933c69854ec37e.jpg",
      "https://i.postimg.cc/RCRx8RgX/z6762375808166-6266914839fe3a2f0c69ff737c12a382.jpg"
    ];

    const tracktt = document.getElementById("tracktt");
    // Append all images twice for smooth looping
    for (let i = 0; i < 2; i++) {
      images.forEach((src, index) => {
        const img = document.createElement("img");
        img.src = src;
        img.alt = `·∫¢nh ${index + 1}`;
        tracktt.appendChild(img);
      });
    }